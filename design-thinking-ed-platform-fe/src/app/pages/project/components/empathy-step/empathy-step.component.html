<div class="step-container">
  <div class="step-header">
    <h1>Mapa de Empatia</h1>
    <p>
      O Mapa de Empatia é uma ferramenta que nos ajuda a entender profundamente
      o usuário, mapeando seus pensamentos, sentimentos, ações e necessidades.
      Preencha cada seção com as observações e insights coletados durante a fase
      de empatia.
    </p>
  </div>

  <div class="step-section">
    <app-response-form
      [fields]="formFields"
      [loading]="(loading$ | async) ?? false"
      (submitForm)="onSubmit($event)"
    ></app-response-form>
  </div>

  <div class="responses-grid">
    <div class="step-section" *ngFor="let type of responseTypes">
      <h3>{{ getTypeLabel(type) }}</h3>
      <app-response-list
        [responses$]="getResponsesByType(type)"
        [displayedColumns]="displayedColumns"
        [currentUserId]="currentUserId"
        [loading$]="loading$"
        (upvote)="onUpvote($event)"
        (toggleSelection)="onToggleSelection($event)"
        (delete)="onDelete($event)"
        (edit)="onEdit($event)"
        (saveEdit)="onSaveEdit($event)"
        (refresh)="refreshData()"
      ></app-response-list>
    </div>
  </div>
</div>
